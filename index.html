<body>
  <!-- Top-of-page alert, like Multi-Search -->
  <div class="page-alert">
    <div class="page-alert-inner">
      <span class="page-alert-label">Note</span>
      <span class="page-alert-text" id="topMessage">
        To use BGone, first click “Download model” to install the AI in this browser (one-time, ~40&nbsp;MB).
      </span>
      <button class="page-alert-btn" id="btnPreload">Download model</button>
      <div class="page-alert-progress">
        <div class="page-alert-progress-inner" id="topProgress"></div>
      </div>
    </div>
  </div>

  <div class="shell">
    <header>
      <div class="title-block">
        <div class="title-main">
          BG<span class="small-cap">one</span>
        </div>
        <div class="title-sub">Offline AI background remover with manual brush refinement.</div>
      </div>
      <div class="status-chip" id="status">Load an image to begin.</div>
    </header>

    <main>
      <aside class="side">
        <!-- IMAGE CARD -->
        <div class="card">
          <h2>Image</h2>
          <label>Load source</label>
          <div class="btn-row">
            <label class="fake-input" for="fileInput">Choose image…</label>
            <button id="btnClear" class="danger small">Clear</button>
          </div>
          <input id="fileInput" type="file" accept="image/*" />
          <div class="btn-row" style="margin-top:0.5rem;">
            <button id="btnRemove" class="primary">Auto remove background</button>
          </div>
          <div class="btn-row" style="margin-top:0.3rem;">
            <button id="btnDownload" class="small" disabled>Download PNG</button>
          </div>
          <div id="progressText" class="progress-text"></div>
        </div>

        <!-- BRUSH CARD -->
        <div class="card">
          <h2>Brush</h2>
          <label for="brushSize">Brush size</label>
          <input id="brushSize" type="range" min="5" max="80" value="25" />
          <div class="pill-toggle">
            <button id="modeErase" class="active" data-mode="erase">Erase</button>
            <button id="modeRestore" data-mode="restore">Restore</button>
          </div>
          <div class="hint">
            After auto-removal, paint directly on the image:<br>
            • <strong>Erase</strong> hides pixels (more transparency).<br>
            • <strong>Restore</strong> brings back the original pixels.
          </div>
        </div>

        <!-- INFO CARD -->
        <div class="card">
          <h2>Info</h2>
          <div class="hint">
            • Everything runs in your browser; images are never uploaded.<br>
            • Once the model is downloaded, BGone can work offline.<br>
            • Checkerboard = transparent areas in the exported PNG.
          </div>
        </div>
      </aside>

      <section class="canvas-wrap">
        <canvas id="canvas"></canvas>
        <div class="overlay-msg" id="overlayMsg">
          Drop an image here, or use “Choose image…” on the left.
        </div>
      </section>
    </main>

    <footer>
      <div>BGone – local AI cutouts for photos, thumbnails and mockups.</div>
      <div>Made by Alex Blizky – see also <a href="https://blizky.github.io/multisearch/" target="_blank" rel="noreferrer">Multi-Search</a>.</div>
    </footer>
  </div>
</body>
